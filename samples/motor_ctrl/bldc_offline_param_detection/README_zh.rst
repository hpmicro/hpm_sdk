.. _bldc_offline_parameter_detection_example:

BLDC 离线参数检测示例
==========================

概述
------

工程展示了直流无刷电机的离线参数检测方法，检测参数包含一下内容
 - 磁链

 - 直轴电感

 - 交轴电感

 - 相电阻

 - 相电感

设计原理
------------

`参考链接 <https://kb.hpmicro.com/2024/08/07/%e7%94%b5%e6%9c%ba%e7%a6%bb%e7%ba%bf%e5%8f%82%e6%95%b0%e8%be%a8%e8%af%86/>`_

配置
------

- 本例程电机使用的是雷赛智能的 **BLM57050-1000**  无刷电机，电机具体参数请参考`雷赛智能官网 <https://leisai.com/>`_。

- 板子设置参考开发板文档 :ref:`Motor Pin <board_resource>` 相关内容

- 完成上述过程后，给驱动板上电观察电流无异常后，给核心板上电，再次确认电流无异常后，就可以烧录程序，观察运行现象。

运行现象
------------

当工程正确运行后，通过串口控制台输出如下：


.. code-block:: console

   motor parameter detection demo.
   flux: 0.044300, ld: 0.000968, lq: 0.001808, ls: 0.002777, rs: 1.037876
   flux: 0.044056, ld: 0.000992, lq: 0.001803, ls: 0.002795, rs: 1.022872
   flux: 0.044366, ld: 0.000987, lq: 0.001785, ls: 0.002773, rs: 1.040307
   flux: 0.043980, ld: 0.000990, lq: 0.001783, ls: 0.002773, rs: 1.028208
   flux: 0.046708, ld: 0.000984, lq: 0.001801, ls: 0.002785, rs: 1.097037
   flux: 0.043836, ld: 0.000989, lq: 0.001783, ls: 0.002771, rs: 1.020653
   flux: 0.045053, ld: 0.000988, lq: 0.001786, ls: 0.002774, rs: 1.059921
   flux: 0.044345, ld: 0.000989, lq: 0.001783, ls: 0.002772, rs: 1.049591



.. warning::

   - 电机上电后首先要完成对中动作，这时候请不要干预电机运行，否则会产生抖动

   - 电机运行时，请时刻注意电流大小，如果发生异常，请随时准备切断电源。

