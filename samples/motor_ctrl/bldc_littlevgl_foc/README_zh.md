# 触摸屏控制BLDC
## 概述

**bldc_littlevgl_foc**工程展示了通过操作触摸屏对直流无刷电机进行控制。
- 电机控制算法为**FOC**
- 屏幕驱动库为**littlevgl**
- 通过触摸屏操作控制电机位置和速度
- 通过屏幕显示电机实时速度和位置

## 配置
- 本例程电机使用的是雷赛智能的 **BLM57050-1000** 无刷电机，电机具体参数请参考雷赛智能官网。
- 连接显示屏到相应接口，显示屏型号[LCD-800480W070TC](lab_lcd_800480w070tc)
- 板子设置参考开发板文档[ PWM_PIN ](lab_board_motor_ctrl_pin)相关内容
- 支持[HPM6750EVKMINI-TO_MOTOR电机扩展板](lab_board_hpm6750evkmini-to-motor-220530RevA)的开发板参考相关章节进行配置，支持列表如下：
  - hpm6750evkmini

- 支持[DRV-LV50A-MP1907电机驱动板](lab_drv_lv50a_mp1907)的开发板参考相关章节进行配置，支持列表如下:
  - hpm6750evk
  - hpm6360evk

- 完成上述过程后，给驱动板上电观察电流无异常后，给核心板上电，再次确认电流无异常后，就可以烧录程序，观察运行现象。

## 代码选项

- 如果需要更快的代码运行速度请在该工程的CMakeLists.txt中添加`sdk_compile_options("-mabi=ilp32f")`语句，获得较高的性能提升

```{note}

本代码不支持任何编译优化，需要手动关闭编译优化

```


## 运行现象

当工程正确运行后，有1~2S的时间进行初始化，并完成电机对中。之后屏幕会出现图形化界面，点击屏幕即可
进行速度以及位置的控制，同时屏幕会通过图形化界面显示速度和位置信息。

```{warning}

- 电机上电后首先要完成对中动作，这时候请不要干预电机运行，否则会产生抖动

- 电机运行时，请时刻注意电流大小，如果发生异常，请随时准备切断电源。

```