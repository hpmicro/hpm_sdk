# Copyright (c) 2025 HPMicro
# SPDX-License-Identifier: BSD-3-Clause

sdk_inc(.)
sdk_inc(api/include)
sdk_inc(api/priv)
sdk_inc(drivers/bt)
sdk_inc(drivers/mempool)
sdk_inc(drivers/rpc/core)
sdk_inc(drivers/rpc/slaveif)
sdk_inc(drivers/rpc/wrap)
sdk_inc(drivers//power_save)
sdk_inc(drivers/serial)
sdk_inc(drivers/transport)
sdk_inc(drivers/virtual_serial_if)
sdk_inc(utils)
if (CONFIG_ESP_HOSTED_SPI_HD)
    sdk_inc(drivers/transport/spi_hd)
    sdk_src_glob(drivers/transport/spi_hd/*.c)
    sdk_compile_definitions(-CONFIG_ESP_HOSTED_SPI_HD_HOST_INTERFACE=1)
endif()
if (CONFIG_ESP_HOSTED_SPI)
    sdk_inc(drivers/transport/spi)
    sdk_src_glob(drivers/transport/spi/*.c)
    sdk_compile_definitions(-DCONFIG_ESP_HOSTED_SPI_HOST_INTERFACE=1)
endif()
if (CONFIG_ESP_HOSTED_SIDO)
    sdk_inc(drivers/transport/sdio)
    sdk_src_glob(drivers/transport/sdio/*.c)
    sdk_compile_definitions(-DCONFIG_ESP_HOSTED_SDIO_HOST_INTERFACE=1)
endif()
if (CONFIG_ESP_HOSTED_UART)
    sdk_inc(drivers/transport/uart)
    sdk_src_glob(drivers/transport/uart/*.c)
    sdk_compile_definitions(-DCONFIG_ESP_HOSTED_UART_HOST_INTERFACE=1)
endif()
sdk_src_glob(drivers/transport/transport_drv.c)
sdk_src_glob(api/src/*.c)
sdk_src_glob(drivers/mempool/*.c)
sdk_src_glob(drivers/power_save/*.c)
sdk_src_glob(drivers/rpc/core/*.c)
sdk_src_glob(drivers/rpc/slaveif/*.c)
sdk_src_glob(drivers/rpc/wrap/*.c)
sdk_src_glob(drivers/serial/*.c)


sdk_src_glob(drivers/virtual_serial_if/*.c)
sdk_src_glob(utils/*.c)